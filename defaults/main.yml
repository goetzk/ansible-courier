---
# Vars from other roles:

# Where should the key/cert go?
openssl_certs_path: /etc/courier
openssl_keys_path: /etc/courier

# Include files with per service setup.
- include: imapd.yml
- include: imapd-ssl.yml
- include: authdaemon.yml

# These will be split out once properly managed.

# Courier ESMTPD

# TODO: Should path and shell be added here?

# There is a version of the next group of options for the ssl and msa services
# too. Only those that are identical accross all systems are here.

# Set 0 to accept mail with bad return address.
courier_esmtpd_checkdns: 1
# Set 1 to disable address list expansion (See rfc821 p24)
courier_esmtpd_noexpn: 0
# Set 1 to disable sender address verification (See rfc821 p24)
courier_esmtpd_novrfy: 0
# Set 0 to disable tarpitting
courier_esmtpd_tarpit: 1
# Should we log esmtp dialog from the sender
courier_esmtpd_esmtp_log_dialog: 0
# Is authentication required?
courier_esmtpd_auth_required: 0

# This option varies by esmtpd/msa
# Add message-id if it is missing, 1 to stop adding it, 0 to start
courier_esmtpd_noaddmsgid: 1
# Add date header if it is missing, 1 to stop adding it, 0 to start
courier_esmtpd_noadddate: 1

# Verify peers doing certificate authentication? none disables it.
courier_esmtpd_tls_verifypeer: NONE

# Only in esmtpd.tmpl, not esmtpd-ssl.tmpl
# Is TLS required?
courier_esmtpd_tls_required: 0
# who should this run as
courier_esmtpd_mailuser: daemon
courier_esmtpd_mailgroup: daemon
# address to listen on
courier_esmtpd_address: 0
# Port to listen on
courier_esmtpd_port: smtp
# blacklists can be set manually using -block. See docs.
courier_esmtpd_blacklists: ''
# Access file (defaults to file used by courier_esmtp)
courier_esmtpd_accessfile: '${sysconfdir}/smtpaccess'
# Where the pid goes
courier_esmtpd_pidfile: /var/run/courier/esmtpd.pid
# TODO: ESMTPAUTH
courier_esmtpd_
# TODO: ESMTPAUTH_TLS
courier_esmtpd_
# Should we start esmtpd?
courier_esmtpd_start: YES


# Courier ESMTPD SSL

# Add message-id if it is missing, 1 to stop adding it, 0 to start
courier_esmtpd_ssl_noaddmsgid: 1
# Add date header if it is missing, 1 to stop adding it, 0 to start
courier_esmtpd_ssl_noadddate: 1
# Port to use for SSL connections
courier_esmtpd_ssl_port: 465
# Address to listen on
courier_esmtpd_ssl_address: 0
# Where should the pidfile go for esmtpd ssl
courier_esmtpd_ssl_pidfile: /var/run/courier/esmtpd-ssl.pid
# Should esmtps be started?
courier_esmtpd_ssl_daemon_start: YES
# Certificate file Location of certificate, see esmtpd-ssl for specifics. These
# two are shared accross esmtpd{,-ssl}
courier_esmtpd_ssl_tls_certfile: /etc/courier/esmtpd.pem
# Trusted certificates for certificate authentication
courier_esmtpd_ssl_tls_trustcerts: /etc/ssl/certs
# Verify peers doing certificate authentication? none disables it.
courier_esmtpd_ssl_tls_external: ''


# Courier MSA (mail submission agent)

# Add message-id if it is missing, change to 1 to stop adding it
courier_msa_noaddmsgid: 0
# Add date header if it is missing, change to 1 to stop adding it
courier_msa_noadddate: 0
# IP Address to listen on
courier_msa_address: 0
# Port to listen on, see esmtpd-msa for details of its usage
courier_msa_port: 587
# Location of pid file
courier_msa_pidfile: '/var/run/courier/esmtpd-msa.pid'
# Should the daemon be started - this value also appears in esmtpd configuration.
courier_msa_esmtpdstart: NO

